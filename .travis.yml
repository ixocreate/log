language: php
sudo: false

php:
  - "7.1"
  - "7.2"
  - "7.3"

cache:
  directories:
    - $HOME/.composer/cache

install:
  - composer install --prefer-dist --no-interaction

script:
  - if [ $TRAVIS_PHP_VERSION = '7.2' ]; then vendor/bin/phpunit --coverage-clover build/logs/clover.xml; else vendor/bin/phpunit; fi
  - if [ $TRAVIS_PHP_VERSION = '7.2' ]; then vendor/bin/php-cs-fixer fix --config=vendor/ixocreate/coding-standard/.php_cs -v --dry-run --using-cache=no --path-mode=intersection `git diff --name-only --diff-filter=ACMRTUXB $TRAVIS_COMMIT_RANGE`; fi

after_success:
  - if [ $TRAVIS_PHP_VERSION = '7.2' ]; then php vendor/bin/php-coveralls -v; fi

notifications:
  email: false
  slack:
    secure: "hPfT8dbSjF8M+/sUAiov3j9WvCNgX5JbG0yOS6VxZ8QKGihpBYh74E0tOFkSt91M7x3AiPMhU9YxvOM28Q6FDOWLX+oYV/00n4lVmtwdORkQcGzE0iaOYE4m5IisfATN23hEHb020bodN3UpE88LikfN8pEziwdMs/blskKb7T86OziJuUUFzPPdK1z/yOby56dzZYDmEpeQgeeOtaTUogXB9ML6nkngtPJdb6083n1dztPrOTaGlR6XkO6tGfVO/+yP8BKCzy8i581lLl7ZfSCC2M72ViK/ECbfW/MaClnxGMUUEwtqi9514A6WsjQf5pPj3vtDEPJ6XOUZ6ZMaYk57V1aui/LlYIr3H8NJ/MPdKq44H6D3khXmR2K/dfTVVG4GbNjcajGfwc4zZ2XlGxcn571ECxLrepm9ONYzp4DmRsnmXivMwmzx3BPHuTUGebx1TjyBziwAdPSQiAsYKxj8yt8ht8ww3dfWALtbE8DdmG2uqd4/F2GYp5P91Bool8dIp+lVeE/8MKxwrsSmrhQt8Cws4EgpkTkMvHf2iquDaKIyQl1OnAK3JEONw9WRskVfG148CPXr4gG5NEzxXmj8V7MOgqQ6Olon0ESCEROqZ75dqf8oXaoqy3cSnk/YXURMxlS8nlv15iRjc3NiXvu558D2CAVtHaanJk3O4DM="
